2025-01-03 13:07:36 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 13:07:36 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 22076 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 13:07:36 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 13:07:36 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 13:07:36 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 13:07:36 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-01-03 13:07:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 13:07:37 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 13:07:37 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 13:07:37 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 13:07:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 13:07:37 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1133 ms
2025-01-03 13:07:37 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 13:07:37 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 13:07:37 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 13:07:37 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 13:07:37 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 13:07:37 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 13:07:37 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 13:07:37 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 13:07:37 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 13:07:38 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 13:07:38 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:07:38 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 13:07:39 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 13:07:39 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 13:07:39 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 13:07:39 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 13:07:39 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 3.362 seconds (process running for 3.796)
2025-01-03 13:07:39 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 13:07:39 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 13:07:39 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 13:09:49 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:09:49 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:10:29 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Error communicating with VAN system: begin 148, end 168, length 156] with root cause
java.lang.StringIndexOutOfBoundsException: begin 148, end 168, length 156
	at java.base/java.lang.String.checkBoundsBeginEnd(String.java:4606)
	at java.base/java.lang.String.substring(String.java:2709)
	at com.assignment.walnut.util.ApprovalIso8583Converter.fromIso8583Payload(ApprovalIso8583Converter.java:28)
	at com.assignment.walnut.service.TransactionService.requestApprovalFromVanSystem(TransactionService.java:167)
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:61)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 13:20:44 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 13:20:44 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 13:20:44 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:20:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 13:20:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 13:20:47 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 13:20:47 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 18336 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 13:20:47 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 13:20:47 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 13:20:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 13:20:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
2025-01-03 13:20:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 13:20:48 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 13:20:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 13:20:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 13:20:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 13:20:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 922 ms
2025-01-03 13:20:48 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 13:20:48 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 13:20:48 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 13:20:48 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 13:20:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 13:20:48 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 13:20:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 13:20:48 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 13:20:48 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 13:20:49 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 13:20:49 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:20:49 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 13:20:49 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 13:20:49 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 13:20:49 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 13:20:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 13:20:49 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 3.062 seconds (process running for 3.359)
2025-01-03 13:20:50 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 13:20:50 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 13:20:50 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 13:21:01 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:21:01 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:21:07 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Error communicating with VAN system: Error parsing ISO 8583 payload: No enum constant com.assignment.walnut.enums.ApprovalStatus.{"status] with root cause
java.lang.IllegalArgumentException: No enum constant com.assignment.walnut.enums.ApprovalStatus.{"status
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.assignment.walnut.enums.ApprovalStatus.valueOf(ApprovalStatus.java:3)
	at com.assignment.walnut.util.ApprovalIso8583Converter.fromIso8583Payload(ApprovalIso8583Converter.java:32)
	at com.assignment.walnut.service.TransactionService.requestApprovalFromVanSystem(TransactionService.java:167)
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:61)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 13:22:59 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 13:22:59 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 13:22:59 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:22:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 13:22:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 13:23:01 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 13:23:01 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 5064 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 13:23:01 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 13:23:01 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 13:23:01 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 13:23:01 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 13:23:02 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 13:23:02 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 13:23:02 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 13:23:02 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 13:23:02 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 13:23:02 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 833 ms
2025-01-03 13:23:02 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 13:23:02 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 13:23:02 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 13:23:02 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 13:23:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 13:23:02 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 13:23:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 13:23:02 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 13:23:02 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 13:23:03 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 13:23:03 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:23:03 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 13:23:04 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 13:23:04 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 13:23:04 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 13:23:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 13:23:04 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.713 seconds (process running for 3.003)
2025-01-03 13:23:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 13:23:04 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 13:23:04 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 13:23:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Card identifier is not registered.] with root cause
java.lang.IllegalArgumentException: Card identifier is not registered.
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:54)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 13:23:25 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:23:25 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:23:28 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Error communicating with VAN system: Error parsing ISO 8583 payload: No enum constant com.assignment.walnut.enums.ApprovalStatus.{"status] with root cause
java.lang.IllegalArgumentException: No enum constant com.assignment.walnut.enums.ApprovalStatus.{"status
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.assignment.walnut.enums.ApprovalStatus.valueOf(ApprovalStatus.java:3)
	at com.assignment.walnut.util.ApprovalIso8583Converter.fromIso8583Payload(ApprovalIso8583Converter.java:35)
	at com.assignment.walnut.service.TransactionService.requestApprovalFromVanSystem(TransactionService.java:167)
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:61)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 13:29:47 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 13:29:47 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 13:29:47 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:29:47 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 13:29:47 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 13:29:49 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 13:29:49 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 23432 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 13:29:49 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 13:29:49 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 13:29:49 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 13:29:49 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 13:29:50 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 13:29:50 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 13:29:50 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 13:29:50 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 13:29:50 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 13:29:50 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 830 ms
2025-01-03 13:29:50 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 13:29:50 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 13:29:50 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 13:29:50 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 13:29:50 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 13:29:50 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 13:29:50 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 13:29:50 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 13:29:50 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 13:29:51 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 13:29:51 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:29:51 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 13:29:51 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 13:29:51 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 13:29:51 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 13:29:51 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 13:29:51 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.701 seconds (process running for 2.989)
2025-01-03 13:29:52 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 13:29:52 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 13:29:52 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 13:32:20 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:32:20 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:32:23 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Error communicating with VAN system: I/O error on POST request for "http://localhost:8444/api/approval": Connection refused: connect] with root cause
java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at java.base/java.net.Socket.connect(Socket.java:583)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:533)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:638)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:281)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1308)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1241)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1127)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1056)
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:518)
	at com.assignment.walnut.service.TransactionService.requestApprovalFromVanSystem(TransactionService.java:165)
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:61)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 13:33:07 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 13:33:08 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 13:33:08 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:33:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 13:33:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 13:33:09 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 13:33:09 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 19760 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 13:33:09 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 13:33:09 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 13:33:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 13:33:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 13:33:10 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 13:33:10 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 13:33:10 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 13:33:10 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 13:33:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 13:33:10 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1004 ms
2025-01-03 13:33:11 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 13:33:11 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 13:33:11 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 13:33:11 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 13:33:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 13:33:11 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 13:33:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 13:33:11 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 13:33:11 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 13:33:11 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 13:33:11 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:33:12 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 13:33:12 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 13:33:12 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 13:33:12 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 13:33:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 13:33:12 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.893 seconds (process running for 3.275)
2025-01-03 13:33:12 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 13:33:12 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 13:33:12 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 13:33:51 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:33:51 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 13:59:36 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 13:59:36 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 13:59:36 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:59:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 13:59:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 13:59:38 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 13:59:38 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 20764 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 13:59:38 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 13:59:38 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 13:59:39 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 13:59:39 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 13:59:39 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 13:59:39 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 13:59:39 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 13:59:39 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 13:59:39 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 13:59:39 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 858 ms
2025-01-03 13:59:39 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 13:59:39 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 13:59:39 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 13:59:40 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 13:59:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 13:59:40 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 13:59:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 13:59:40 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 13:59:40 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 13:59:40 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 13:59:40 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 13:59:40 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 13:59:41 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 13:59:41 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 13:59:41 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 13:59:41 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 13:59:41 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.734 seconds (process running for 3.028)
2025-01-03 13:59:41 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 13:59:41 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 13:59:41 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 14:00:12 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:00:12 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:00:26 WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.assignment.walnut.dto.TransactionCreateResponse> com.assignment.walnut.controller.TransactionController.createTransaction(com.assignment.walnut.dto.TransactionCreateRequest) with 4 errors: [Field error in object 'transactionCreateRequest' on field 'amount': rejected value [null]; codes [NotNull.transactionCreateRequest.amount,NotNull.amount,NotNull.java.lang.Double,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionCreateRequest.amount,amount]; arguments []; default message [amount]]; default message [널이어서는 안됩니다]] [Field error in object 'transactionCreateRequest' on field 'orderNumber': rejected value []; codes [NotBlank.transactionCreateRequest.orderNumber,NotBlank.orderNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionCreateRequest.orderNumber,orderNumber]; arguments []; default message [orderNumber]]; default message [공백일 수 없습니다]] [Field error in object 'transactionCreateRequest' on field 'currency': rejected value []; codes [NotBlank.transactionCreateRequest.currency,NotBlank.currency,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionCreateRequest.currency,currency]; arguments []; default message [currency]]; default message [공백일 수 없습니다]] [Field error in object 'transactionCreateRequest' on field 'storeId': rejected value []; codes [NotBlank.transactionCreateRequest.storeId,NotBlank.storeId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [transactionCreateRequest.storeId,storeId]; arguments []; default message [storeId]]; default message [공백일 수 없습니다]] ]
2025-01-03 14:00:32 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : 9_J_DJjdiE1k4Az_cz8L6AAaeJtNQriUuVEyqNAv1W0
2025-01-03 14:00:32 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"5dVLr2SIz3cuoZD0K9uWdwweIa8S79buYGT9VuBEumw=","message":"Token issued successfully."}
2025-01-03 14:00:32 INFO  c.a.w.service.TransactionService - [성공] token : {"token":"5dVLr2SIz3cuoZD0K9uWdwweIa8S79buYGT9VuBEumw=","message
2025-01-03 14:00:32 INFO  c.a.w.service.TransactionService - [승인요청] token : {"token":"5dVLr2SIz3cuoZD0K9uWdwweIa8S79buYGT9VuBEumw=","message
2025-01-03 14:00:32 INFO  c.a.w.service.TransactionService - [승인요청] amount : 5542.02
2025-01-03 14:00:32 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T14:00:32.387433200REJECTED-0000       N/A                 
2025-01-03 14:00:32 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 14:05:35 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:05:35 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:05:35 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:05:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:05:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:05:37 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:05:37 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 22848 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:05:37 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:05:37 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:05:37 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:05:37 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 14:05:38 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:05:38 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:05:38 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:05:38 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:05:38 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:05:38 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 828 ms
2025-01-03 14:05:38 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:05:38 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:05:38 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:05:38 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:05:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:05:38 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:05:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:05:38 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:05:38 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:05:39 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:05:39 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:05:39 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:05:39 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:05:39 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:05:39 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:05:39 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:05:39 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.687 seconds (process running for 2.973)
2025-01-03 14:05:39 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:05:39 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:05:39 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 14:07:34 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:07:34 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:07:40 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : tOMvJe8SSPsSGm1Hl-kaschw1-3QgW2S2RMa0zSt1x8
2025-01-03 14:07:40 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"9bZ5PNsbpWLVtGuOynFxLpjOASq3/KhgDKaHy3eTK+k=","message":"Token issued successfully."}
2025-01-03 14:07:40 INFO  c.a.w.service.TransactionService - [성공] token : {"token":"9bZ5PNsbpWLVtGuOynFxLpjOASq3/KhgDKaHy3eTK+k=","message
2025-01-03 14:07:40 INFO  c.a.w.service.TransactionService - [승인요청] token : {"token":"9bZ5PNsbpWLVtGuOynFxLpjOASq3/KhgDKaHy3eTK+k=","message
2025-01-03 14:07:40 INFO  c.a.w.service.TransactionService - [승인요청] amount : 3169.54
2025-01-03 14:07:40 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T14:07:40.288279300REJECTED-0000       N/A                 
2025-01-03 14:07:40 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 14:21:45 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:21:45 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:21:45 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:21:45 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:21:45 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:21:47 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:21:47 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 22156 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:21:47 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:21:47 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:21:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:21:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 14:21:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:21:48 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:21:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:21:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:21:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:21:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 870 ms
2025-01-03 14:21:48 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:21:48 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:21:48 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:21:48 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:21:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:21:48 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:21:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:21:48 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:21:48 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:21:49 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:21:49 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:21:49 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:21:49 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:21:49 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:21:49 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:21:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:21:49 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.769 seconds (process running for 3.056)
2025-01-03 14:21:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:21:49 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:21:49 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 14:21:53 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:21:53 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:21:53 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:21:53 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:21:53 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:21:55 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:21:55 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 11980 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:21:55 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:21:55 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:21:55 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:21:55 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-01-03 14:21:56 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:21:56 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:21:56 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:21:56 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:21:56 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:21:56 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 850 ms
2025-01-03 14:21:56 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:21:56 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:21:56 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:21:56 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:21:56 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:21:56 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:21:56 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:21:56 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:21:56 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:21:57 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:21:57 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:21:57 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:21:57 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:21:57 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:21:57 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:21:57 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:21:57 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.777 seconds (process running for 3.068)
2025-01-03 14:21:58 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:21:58 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:21:58 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 14:22:02 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:22:02 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:22:02 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:22:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:22:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:22:03 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:22:03 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 18340 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:22:03 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:22:03 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:22:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:22:04 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
2025-01-03 14:22:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:22:04 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:22:04 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:22:04 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:22:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:22:04 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 874 ms
2025-01-03 14:22:04 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:22:04 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:22:04 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:22:04 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:22:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:22:05 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:22:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:22:05 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:22:05 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:22:05 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:22:05 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:22:05 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:22:06 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:22:06 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:22:06 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:22:06 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:22:06 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.836 seconds (process running for 3.128)
2025-01-03 14:22:06 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:22:06 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:22:06 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 14:22:19 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:22:19 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:22:40 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : jw_J1XavpNJUFUKwcAo1B3B2k4MFatrpcrDN4u3a6HQ
2025-01-03 14:22:40 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"zmUKmFDGfAhj3enf0VLy5mxsdlAVzyMdLNUFbYSbUOA=","message":"Token issued successfully."}
2025-01-03 14:22:40 INFO  c.a.w.service.TransactionService - [성공] token : {"token":"zmUKmFDGfAhj3enf0VLy5mxsdlAVzyMdLN
2025-01-03 14:22:40 INFO  c.a.w.service.TransactionService - [승인요청] token : {"token":"zmUKmFDGfAhj3enf0VLy5mxsdlAVzyMdLN
2025-01-03 14:22:40 INFO  c.a.w.service.TransactionService - [승인요청] amount : 5055.95
2025-01-03 14:22:41 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T14:22:41.027268800REJECTED-0000       N/A                 
2025-01-03 14:22:41 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 14:41:08 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:41:08 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:41:08 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:41:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:41:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:41:10 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:41:10 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 7764 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:41:10 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:41:10 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:41:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:41:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-01-03 14:41:11 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:41:11 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:41:11 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:41:11 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:41:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:41:11 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 860 ms
2025-01-03 14:41:11 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:41:11 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:41:11 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:41:11 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:41:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:41:11 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:41:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:41:11 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:41:11 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:41:12 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:41:12 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:41:12 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:41:12 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:41:12 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:41:12 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:41:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:41:12 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.84 seconds (process running for 3.132)
2025-01-03 14:41:13 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:41:13 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:41:13 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 14:41:52 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:41:52 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:41:52 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:41:52 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:41:52 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:41:53 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:41:53 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 11776 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:41:53 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:41:53 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:41:54 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:41:54 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-01-03 14:41:54 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:41:54 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:41:54 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:41:54 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:41:54 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:41:54 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 862 ms
2025-01-03 14:41:54 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:41:54 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:41:54 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:41:54 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:41:54 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:41:55 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:41:55 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:41:55 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:41:55 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:41:55 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:41:55 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:41:55 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:41:56 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:41:56 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:41:56 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:41:56 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:41:56 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.809 seconds (process running for 3.105)
2025-01-03 14:41:56 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:41:56 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:41:56 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 14:42:01 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:42:01 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:42:09 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : Z4MB7ynM8f_AwCbvrmWX1Jh1GGlxYmRlylp-RzPiEXk
2025-01-03 14:42:09 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : Z4MB7ynM8f_AwCbvrmWX1Jh1GGlxYmRlylp-RzPiEXk
2025-01-03 14:42:09 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"HbnLn9rrHDpH6j6crPdedbU2G1/jM3+sSm5AkXDioXU=","message":"Token issued successfully."}
2025-01-03 14:42:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Error!] with root cause
java.lang.RuntimeException: Error!
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.assignment.walnut.service.TransactionService$$SpringCGLIB$$0.createTransaction(<generated>)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 14:47:13 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:47:14 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:47:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:47:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:47:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:47:16 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:47:16 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 6652 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:47:16 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:47:16 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:47:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:47:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-01-03 14:47:16 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:47:16 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:47:16 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:47:16 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:47:16 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:47:16 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 885 ms
2025-01-03 14:47:17 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:47:17 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:47:17 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:47:17 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:47:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:47:17 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:47:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:47:17 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:47:17 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:47:17 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:47:17 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:47:18 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:47:18 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:47:18 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:47:18 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:47:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:47:18 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.89 seconds (process running for 3.181)
2025-01-03 14:47:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:47:19 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:47:19 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 14:47:52 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:47:52 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:47:56 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : -JOwThxiT7ipXzC_yuuhMC6pVWXUPXOf6mUZFL9ctx4
2025-01-03 14:47:56 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : -JOwThxiT7ipXzC_yuuhMC6pVWXUPXOf6mUZFL9ctx4
2025-01-03 14:47:56 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"aeVB4WfaiwWr6Aq2eDn6/Um2ZG+jD+YVIIw/Ne74ucI=","message":"Token issued successfully."}
2025-01-03 14:47:56 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Error!] with root cause
java.lang.RuntimeException: Error!
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.assignment.walnut.service.TransactionService$$SpringCGLIB$$0.createTransaction(<generated>)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 14:48:30 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:48:30 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:48:30 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:48:30 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:48:30 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:48:32 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:48:32 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 312 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:48:32 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:48:32 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:48:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:48:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 14:48:33 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:48:33 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:48:33 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:48:33 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:48:33 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:48:33 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 847 ms
2025-01-03 14:48:33 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:48:33 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:48:33 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:48:33 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:48:33 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:48:33 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:48:33 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:48:33 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:48:33 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:48:34 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:48:34 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:48:34 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:48:34 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:48:34 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:48:34 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:48:34 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:48:34 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.703 seconds (process running for 2.992)
2025-01-03 14:48:35 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:48:35 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:48:35 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 14:48:42 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:48:42 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:48:44 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : J5u_aCHV5wCZvP6y6Kb_nGTt2Ig0MePjx55rSYsQ9_Q
2025-01-03 14:48:44 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : J5u_aCHV5wCZvP6y6Kb_nGTt2Ig0MePjx55rSYsQ9_Q
2025-01-03 14:48:44 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"BWnR44w9QtDHNLVU+tb1jZUbvgwGe2RJRYQvFFu1CZc=","message":"Token issued successfully."}
2025-01-03 14:48:44 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Error!] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.assignment.walnut.dto.TokenIssueResponse` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 2]
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1888)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1375)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1512)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:348)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4917)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3860)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3828)
	at com.assignment.walnut.util.TokenIso8583Converter.fromIso8583Payload(TokenIso8583Converter.java:15)
	at com.assignment.walnut.service.TransactionService.requestTokenFromTokenSystem(TransactionService.java:156)
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:67)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.assignment.walnut.service.TransactionService$$SpringCGLIB$$0.createTransaction(<generated>)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 14:50:24 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:50:24 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:50:24 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:50:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:50:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:50:26 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:50:26 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 8408 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:50:26 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:50:26 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:50:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:50:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 14:50:27 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:50:27 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:50:27 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:50:27 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:50:27 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:50:27 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 847 ms
2025-01-03 14:50:27 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:50:27 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:50:27 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:50:27 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:50:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:50:27 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:50:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:50:27 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:50:27 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:50:27 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:50:28 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:50:28 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:50:28 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:50:28 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:50:28 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:50:28 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:50:28 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.731 seconds (process running for 3.02)
2025-01-03 14:50:28 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:50:28 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:50:28 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 14:50:34 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:50:34 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:50:38 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : 4jwslU4GHSxMj3WXc7Xgk1xQChN1VEXxX_ca0z_WFFY
2025-01-03 14:50:38 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : 4jwslU4GHSxMj3WXc7Xgk1xQChN1VEXxX_ca0z_WFFY
2025-01-03 14:50:38 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"Envnd4gyBkQnA//29FYv9UEgeJeqfjnSmmCwfGjjp4c=","message":"Token issued successfully."}
2025-01-03 14:50:38 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=Envnd4gyBkQnA//29FYv9UEgeJeqfjnSmmCwfGjjp4c=, message=Token issued successfully.)
2025-01-03 14:50:38 INFO  c.a.w.service.TransactionService - [성공] token : Envnd4gyBkQnA//29FYv9UEgeJeqfjnSmmCwfGjjp4c=
2025-01-03 14:50:38 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : Envnd4gyBkQnA//29FYv9UEgeJeqfjnSmmCwfGjjp4c=
2025-01-03 14:50:38 INFO  c.a.w.service.TransactionService - [승인요청] token : Envnd4gyBkQnA//29FYv9UEgeJeqfjnSmmCwfGjjp4c=
2025-01-03 14:50:38 INFO  c.a.w.service.TransactionService - [승인요청] amount : 599.94
2025-01-03 14:50:38 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Error!] with root cause
org.springframework.web.client.HttpServerErrorException$InternalServerError: 500  on POST request for "http://localhost:8444/api/approval": "{"timestamp":"2025-01-03T05:50:38.196+00:00","status":500,"error":"Internal Server Error","path":"/api/approval"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:518)
	at com.assignment.walnut.service.TransactionService.requestApprovalFromVanSystem(TransactionService.java:192)
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:71)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.assignment.walnut.service.TransactionService$$SpringCGLIB$$0.createTransaction(<generated>)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 14:51:02 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:51:03 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:51:03 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:51:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:51:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:51:04 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:51:04 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 23568 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:51:04 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:51:04 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:51:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:51:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 14:51:05 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:51:05 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:51:05 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:51:05 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:51:05 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:51:05 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 885 ms
2025-01-03 14:51:05 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:51:05 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:51:05 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:51:05 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:51:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:51:06 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:51:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:51:06 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:51:06 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:51:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:51:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:51:07 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:51:07 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:51:07 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:51:07 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:51:07 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:51:07 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 3.088 seconds (process running for 3.388)
2025-01-03 14:51:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:51:07 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:51:07 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 14:51:33 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:51:33 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:51:38 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : DRZlMS1pJx4qX89zVTXjPeTRJlz4ey5e3KqWhnjB-uc
2025-01-03 14:51:38 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : DRZlMS1pJx4qX89zVTXjPeTRJlz4ey5e3KqWhnjB-uc
2025-01-03 14:51:38 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"LNqVkL/0FmJgyxfcmFHU4e72Oe3mYBkJretfQH8obBs=","message":"Token issued successfully."}
2025-01-03 14:51:38 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=LNqVkL/0FmJgyxfcmFHU4e72Oe3mYBkJretfQH8obBs=, message=Token issued successfully.)
2025-01-03 14:51:38 INFO  c.a.w.service.TransactionService - [성공] token : LNqVkL/0FmJgyxfcmFHU4e72Oe3mYBkJretfQH8obBs=
2025-01-03 14:51:38 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : LNqVkL/0FmJgyxfcmFHU4e72Oe3mYBkJretfQH8obBs=
2025-01-03 14:51:38 INFO  c.a.w.service.TransactionService - [승인요청] token : LNqVkL/0FmJgyxfcmFHU4e72Oe3mYBkJretfQH8obBs=
2025-01-03 14:51:38 INFO  c.a.w.service.TransactionService - [승인요청] amount : 6617.37
2025-01-03 14:51:38 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Error!] with root cause
org.springframework.web.client.HttpServerErrorException$InternalServerError: 500  on POST request for "http://localhost:8444/api/approval": "{"timestamp":"2025-01-03T05:51:38.306+00:00","status":500,"error":"Internal Server Error","path":"/api/approval"}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:228)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:163)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:518)
	at com.assignment.walnut.service.TransactionService.requestApprovalFromVanSystem(TransactionService.java:192)
	at com.assignment.walnut.service.TransactionService.createTransaction(TransactionService.java:71)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.assignment.walnut.service.TransactionService$$SpringCGLIB$$0.createTransaction(<generated>)
	at com.assignment.walnut.controller.TransactionController.createTransaction(TransactionController.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-01-03 14:52:41 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 14:52:41 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 14:52:41 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:52:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 14:52:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 14:52:43 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 14:52:43 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 5328 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 14:52:43 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 14:52:43 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 14:52:43 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 14:52:43 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 3 JPA repository interfaces.
2025-01-03 14:52:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 14:52:43 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 14:52:43 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 14:52:43 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 14:52:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 14:52:43 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 850 ms
2025-01-03 14:52:44 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 14:52:44 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 14:52:44 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 14:52:44 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 14:52:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 14:52:44 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 14:52:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 14:52:44 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 14:52:44 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 14:52:44 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 14:52:44 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 14:52:45 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 14:52:45 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 14:52:45 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 14:52:45 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 14:52:45 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 14:52:45 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.72 seconds (process running for 3.004)
2025-01-03 14:52:45 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 14:52:45 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 14:52:45 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 14:52:57 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:52:57 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : FSD_4BFZDrNKf41zd0t3Z2-_HLAEf81a62aqwyFnxi4
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : FSD_4BFZDrNKf41zd0t3Z2-_HLAEf81a62aqwyFnxi4
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"n1T346w1ckaHdtJaUzoRPo9x2tEeY2SirUPLHmixV7E=","message":"Token issued successfully."}
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=n1T346w1ckaHdtJaUzoRPo9x2tEeY2SirUPLHmixV7E=, message=Token issued successfully.)
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [성공] token : n1T346w1ckaHdtJaUzoRPo9x2tEeY2SirUPLHmixV7E=
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : n1T346w1ckaHdtJaUzoRPo9x2tEeY2SirUPLHmixV7E=
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [승인요청] token : n1T346w1ckaHdtJaUzoRPo9x2tEeY2SirUPLHmixV7E=
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [승인요청] amount : 4036.43
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T14:53:01.818887BLWNDER-1735883581097 407012RWO                 
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 14:53:01 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=54bcd827-4778-49fb-9285-9b49af5c5f85, orderNumber=ORDER-1735883581097, storeId=VFQH, amount=4036.43, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:21:16 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m32s177ms983µs100ns).
2025-01-03 15:26:06 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 15:26:06 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 15:26:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:26:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 15:26:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 15:26:08 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 15:26:08 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 3820 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 15:26:08 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 15:26:08 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 15:26:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 15:26:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 15:26:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 15:26:09 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 15:26:09 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 15:26:09 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 15:26:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 15:26:09 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 833 ms
2025-01-03 15:26:09 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 15:26:09 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 15:26:09 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 15:26:09 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 15:26:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 15:26:09 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 15:26:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 15:26:09 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 15:26:09 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 15:26:10 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 15:26:10 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:26:10 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 15:26:10 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 15:26:10 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 15:26:10 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 15:26:10 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 15:26:10 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.796 seconds (process running for 3.094)
2025-01-03 15:26:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 15:26:10 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 15:26:10 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 15:26:39 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:26:39 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:26:42 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : rq9NiaobmUrv41xy_sU1DLdsnJb_N1fOe_APeU9dv4I
2025-01-03 15:26:42 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : rq9NiaobmUrv41xy_sU1DLdsnJb_N1fOe_APeU9dv4I
2025-01-03 15:26:42 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"6H57VOpfeJpMNTk6/qfYCMfFH2VX9PXOywbGRPUqP0E=","message":"Token issued successfully."}
2025-01-03 15:26:42 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=6H57VOpfeJpMNTk6/qfYCMfFH2VX9PXOywbGRPUqP0E=, message=Token issued successfully.)
2025-01-03 15:26:42 INFO  c.a.w.service.TransactionService - [성공] token : 6H57VOpfeJpMNTk6/qfYCMfFH2VX9PXOywbGRPUqP0E=
2025-01-03 15:26:42 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : 6H57VOpfeJpMNTk6/qfYCMfFH2VX9PXOywbGRPUqP0E=
2025-01-03 15:26:42 INFO  c.a.w.service.TransactionService - [승인요청] token : 6H57VOpfeJpMNTk6/qfYCMfFH2VX9PXOywbGRPUqP0E=
2025-01-03 15:26:42 INFO  c.a.w.service.TransactionService - [승인요청] amount : 8916.51
2025-01-03 15:26:43 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T15:26:43.081019200BLWNDER-1735885601657 898132RWO                 
2025-01-03 15:26:43 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 15:26:43 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=1129e54a-2549-4290-b0c6-7ed68388ff97, orderNumber=ORDER-1735885601657, storeId=LDCD, amount=8916.51, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:28:14 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 15:28:14 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 15:28:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:28:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 15:28:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 15:28:16 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 15:28:16 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 21508 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 15:28:16 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 15:28:16 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 15:28:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 15:28:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 15:28:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 15:28:17 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 15:28:17 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 15:28:17 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 15:28:17 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 15:28:17 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 911 ms
2025-01-03 15:28:17 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 15:28:17 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 15:28:17 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 15:28:17 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 15:28:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 15:28:17 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 15:28:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 15:28:17 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 15:28:17 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 15:28:18 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 15:28:18 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:28:18 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 15:28:18 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 15:28:19 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 15:28:19 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 15:28:19 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 15:28:19 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.97 seconds (process running for 3.276)
2025-01-03 15:28:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 15:28:19 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 15:28:19 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 15:28:33 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:28:33 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : hz8K1aBEGvH0OiO_vtNZPKWtKsUBh53YOPOsCjK-kHU
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : hz8K1aBEGvH0OiO_vtNZPKWtKsUBh53YOPOsCjK-kHU
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"KU1Jn9nRsm/siSLhmGpQBFLa30AspiXc5k7CoYtmfOQ=","message":"Token issued successfully."}
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=KU1Jn9nRsm/siSLhmGpQBFLa30AspiXc5k7CoYtmfOQ=, message=Token issued successfully.)
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [성공] token : KU1Jn9nRsm/siSLhmGpQBFLa30AspiXc5k7CoYtmfOQ=
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : KU1Jn9nRsm/siSLhmGpQBFLa30AspiXc5k7CoYtmfOQ=
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [승인요청] token : KU1Jn9nRsm/siSLhmGpQBFLa30AspiXc5k7CoYtmfOQ=
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [승인요청] amount : 499.22
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T15:28:37.926828700BLWNDER-1735885716508 495602RWO                 
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 15:28:37 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=a3eba064-3413-4bb0-a7b4-f867dae9cfdc, orderNumber=ORDER-1735885716508, storeId=W8VM, amount=499.22, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:32:45 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 15:32:45 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 15:32:45 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:32:45 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 15:32:45 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 15:32:47 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 15:32:47 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 23968 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 15:32:47 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 15:32:47 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 15:32:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 15:32:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 15:32:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 15:32:48 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 15:32:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 15:32:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 15:32:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 15:32:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 859 ms
2025-01-03 15:32:48 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 15:32:48 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 15:32:48 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 15:32:48 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 15:32:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 15:32:48 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 15:32:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 15:32:48 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 15:32:48 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 15:32:49 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 15:32:49 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:32:49 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 15:32:50 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 15:32:50 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 15:32:50 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 15:32:50 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 15:32:50 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 3.091 seconds (process running for 3.397)
2025-01-03 15:32:50 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 15:32:50 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 15:32:50 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 15:32:59 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:32:59 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : EN4Zi681aoFyr7uvM-jG7ONbZOaq2hdUcEL7Ecc8Szc
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : EN4Zi681aoFyr7uvM-jG7ONbZOaq2hdUcEL7Ecc8Szc
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"bsraVaIermkJaqnJh49DOybJOiraG9b9kC+S09QbCPo=","message":"Token issued successfully."}
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=bsraVaIermkJaqnJh49DOybJOiraG9b9kC+S09QbCPo=, message=Token issued successfully.)
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [성공] token : bsraVaIermkJaqnJh49DOybJOiraG9b9kC+S09QbCPo=
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : bsraVaIermkJaqnJh49DOybJOiraG9b9kC+S09QbCPo=
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [승인요청] token : bsraVaIermkJaqnJh49DOybJOiraG9b9kC+S09QbCPo=
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [승인요청] amount : 559.22
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T15:33:02.916880800REJECTED-0000       N/A                 
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 15:33:02 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=96be52f2-5490-41be-8289-a380715c3b46, orderNumber=ORDER-1735885982228, storeId=0JBE, amount=559.22, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:37:02 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 15:37:03 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 15:37:03 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:37:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 15:37:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 15:37:04 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 15:37:04 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 3940 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 15:37:04 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 15:37:04 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 15:37:04 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 15:37:04 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 15:37:05 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 15:37:05 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 15:37:05 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 15:37:05 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 15:37:05 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 15:37:05 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 911 ms
2025-01-03 15:37:05 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 15:37:05 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 15:37:05 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 15:37:05 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 15:37:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 15:37:06 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 15:37:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 15:37:06 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 15:37:06 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 15:37:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 15:37:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:37:06 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 15:37:07 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 15:37:07 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 15:37:07 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 15:37:07 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 15:37:07 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 3.149 seconds (process running for 3.453)
2025-01-03 15:37:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 15:37:07 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 15:37:07 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 15:37:53 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:37:53 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:37:56 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : 3pdGRS7LuVuWUJV4qWr1PxLhLf01uNK_c-gQCmf6_88
2025-01-03 15:37:56 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : 3pdGRS7LuVuWUJV4qWr1PxLhLf01uNK_c-gQCmf6_88
2025-01-03 15:37:56 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"LK0hizvwC4fILpLOuxvVG2McND3EP1PK4aWMChZpqxo=","message":"Token issued successfully."}
2025-01-03 15:37:56 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=LK0hizvwC4fILpLOuxvVG2McND3EP1PK4aWMChZpqxo=, message=Token issued successfully.)
2025-01-03 15:37:56 INFO  c.a.w.service.TransactionService - [성공] token : LK0hizvwC4fILpLOuxvVG2McND3EP1PK4aWMChZpqxo=
2025-01-03 15:37:56 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : LK0hizvwC4fILpLOuxvVG2McND3EP1PK4aWMChZpqxo=
2025-01-03 15:37:56 INFO  c.a.w.service.TransactionService - [승인요청] token : LK0hizvwC4fILpLOuxvVG2McND3EP1PK4aWMChZpqxo=
2025-01-03 15:37:56 INFO  c.a.w.service.TransactionService - [승인요청] amount : 6765.94
2025-01-03 15:37:57 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T15:37:57.101717700BLWNDER-1735886275599 675181RWO                 
2025-01-03 15:37:57 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 15:37:57 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=f5ac9d4f-19de-490a-939b-d481a89bee26, orderNumber=ORDER-1735886275599, storeId=MUST, amount=6765.94, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:47:27 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 15:47:27 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 15:47:27 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:47:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 15:47:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 15:47:29 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 15:47:29 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 9424 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 15:47:29 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 15:47:29 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 15:47:30 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 15:47:30 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 15:47:30 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 15:47:30 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 15:47:30 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 15:47:30 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 15:47:30 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 15:47:30 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 849 ms
2025-01-03 15:47:30 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 15:47:30 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 15:47:30 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 15:47:30 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 15:47:30 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 15:47:31 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 15:47:31 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 15:47:31 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 15:47:31 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 15:47:31 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 15:47:31 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:47:31 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 15:47:32 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 15:47:32 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 15:47:32 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 15:47:32 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 15:47:32 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.805 seconds (process running for 3.102)
2025-01-03 15:47:32 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 15:47:32 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 15:47:32 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 15:50:36 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 15:50:36 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 15:50:36 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:50:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 15:50:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 15:50:38 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 15:50:38 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 16512 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 15:50:38 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 15:50:38 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 15:50:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 15:50:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 15:50:39 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 15:50:39 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 15:50:39 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 15:50:39 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 15:50:39 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 15:50:39 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 839 ms
2025-01-03 15:50:39 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 15:50:39 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 15:50:39 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 15:50:39 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 15:50:39 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 15:50:39 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 15:50:39 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 15:50:39 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 15:50:39 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 15:50:40 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 15:50:40 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:50:40 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 15:50:40 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 15:50:40 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 15:50:40 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 15:50:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 15:50:40 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.781 seconds (process running for 3.091)
2025-01-03 15:50:41 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 15:50:41 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 15:50:41 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 15:51:00 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:51:00 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : TXZUigqQxe_ruFH6bJiVMeOdBOkuAVGqObkPD8JYq3w
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : TXZUigqQxe_ruFH6bJiVMeOdBOkuAVGqObkPD8JYq3w
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"A7K4hsD4WLRC+ZuaMdtBAwRj3uJYRRRRiJqcOG3S1kM=","message":"Token issued successfully."}
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=A7K4hsD4WLRC+ZuaMdtBAwRj3uJYRRRRiJqcOG3S1kM=, message=Token issued successfully.)
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [성공] token : A7K4hsD4WLRC+ZuaMdtBAwRj3uJYRRRRiJqcOG3S1kM=
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : A7K4hsD4WLRC+ZuaMdtBAwRj3uJYRRRRiJqcOG3S1kM=
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [승인요청] token : A7K4hsD4WLRC+ZuaMdtBAwRj3uJYRRRRiJqcOG3S1kM=
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [승인요청] amount : 7116.89
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T15:51:06.978687800REJECTED-0000       N/A                 
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 15:51:06 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=6c674a1d-8c9e-45e7-a068-1f60ff67be5c, orderNumber=ORDER-1735887066217, storeId=EFFS, amount=7116.89, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:51:27 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 15:51:27 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 15:51:27 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:51:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 15:51:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 15:51:28 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 15:51:28 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 22664 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 15:51:28 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 15:51:28 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 15:51:28 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 15:51:28 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
2025-01-03 15:51:29 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 15:51:29 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 15:51:29 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 15:51:29 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 15:51:29 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 15:51:29 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 824 ms
2025-01-03 15:51:29 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 15:51:29 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 15:51:29 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 15:51:29 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 15:51:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 15:51:29 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 15:51:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 15:51:29 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 15:51:29 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 15:51:30 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 15:51:30 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:51:30 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 15:51:30 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 15:51:30 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 15:51:30 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 15:51:31 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 15:51:31 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.728 seconds (process running for 3.014)
2025-01-03 15:51:31 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 15:51:31 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 15:51:31 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 15:51:35 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:51:35 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : fxjrH6Zg8jpAMXy54Y3q5tj0ZlrTsviBEgXQimWLCE4
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : fxjrH6Zg8jpAMXy54Y3q5tj0ZlrTsviBEgXQimWLCE4
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"vtNvqM0yzGbc/WeJLC5HscRI+wZXwmWyp6/REeCdkGw=","message":"Token issued successfully."}
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=vtNvqM0yzGbc/WeJLC5HscRI+wZXwmWyp6/REeCdkGw=, message=Token issued successfully.)
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [성공] token : vtNvqM0yzGbc/WeJLC5HscRI+wZXwmWyp6/REeCdkGw=
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : vtNvqM0yzGbc/WeJLC5HscRI+wZXwmWyp6/REeCdkGw=
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [승인요청] token : vtNvqM0yzGbc/WeJLC5HscRI+wZXwmWyp6/REeCdkGw=
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [승인요청] amount : 2332.48
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T15:51:40.286543600REJECTED-0000       N/A                 
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 15:51:40 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=ec9739c8-e031-4a95-841f-ac9ae219cadb, orderNumber=ORDER-1735887099515, storeId=Q78M, amount=2332.48, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:54:09 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 15:54:09 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 15:54:09 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:54:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 15:54:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 15:54:11 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 15:54:11 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 18412 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 15:54:11 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 15:54:11 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 15:54:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 15:54:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
2025-01-03 15:54:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 15:54:12 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 15:54:12 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 15:54:12 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 15:54:12 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 15:54:12 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 849 ms
2025-01-03 15:54:12 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 15:54:12 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 15:54:12 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 15:54:12 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 15:54:12 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 15:54:12 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 15:54:12 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 15:54:12 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 15:54:12 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 15:54:13 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 15:54:13 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 15:54:13 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 15:54:13 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 15:54:13 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 15:54:13 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 15:54:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 15:54:13 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.749 seconds (process running for 3.032)
2025-01-03 15:54:13 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 15:54:13 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 15:54:13 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-01-03 15:54:19 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:54:19 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : tFb_CoJ5nljl30bDoyZ58vbtK_n0829ukSC4rNHy8O4
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : tFb_CoJ5nljl30bDoyZ58vbtK_n0829ukSC4rNHy8O4
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"SJnc4bzdXZ7JbNekD7GEeuGYKTblvG8LF0kPb6jhqhU=","message":"Token issued successfully."}
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=SJnc4bzdXZ7JbNekD7GEeuGYKTblvG8LF0kPb6jhqhU=, message=Token issued successfully.)
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [성공] token : SJnc4bzdXZ7JbNekD7GEeuGYKTblvG8LF0kPb6jhqhU=
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : SJnc4bzdXZ7JbNekD7GEeuGYKTblvG8LF0kPb6jhqhU=
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [승인요청] token : SJnc4bzdXZ7JbNekD7GEeuGYKTblvG8LF0kPb6jhqhU=
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [승인요청] amount : 6972.95
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T15:54:23.317455BLWNDER-1735887262433 696979RWO                 
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 15:54:23 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=4f8fd3ce-cbcc-4e47-a8ac-8da35fdc01ba, orderNumber=ORDER-1735887262433, storeId=22NG, amount=6972.95, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:54:43 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:54:43 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"MZeUvXDf66oMGJnHKD+fcdSqeq/X8uX2WJm07VK2jgs=","message":"Token issued successfully."}
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=MZeUvXDf66oMGJnHKD+fcdSqeq/X8uX2WJm07VK2jgs=, message=Token issued successfully.)
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [성공] token : MZeUvXDf66oMGJnHKD+fcdSqeq/X8uX2WJm07VK2jgs=
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : MZeUvXDf66oMGJnHKD+fcdSqeq/X8uX2WJm07VK2jgs=
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [승인요청] token : MZeUvXDf66oMGJnHKD+fcdSqeq/X8uX2WJm07VK2jgs=
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [승인요청] amount : 9257.59
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T15:54:47.446756100REJECTED-0000       N/A                 
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 15:54:47 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=529ea9e4-a865-4557-b421-868265d7e985, orderNumber=ORDER-1735887286149, storeId=KPOC, amount=9257.59, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"6TZ4jxBBVH4/vv4flEAAZNxYY8FHDvx1ozCrxYh81Nk=","message":"Token issued successfully."}
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=6TZ4jxBBVH4/vv4flEAAZNxYY8FHDvx1ozCrxYh81Nk=, message=Token issued successfully.)
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [성공] token : 6TZ4jxBBVH4/vv4flEAAZNxYY8FHDvx1ozCrxYh81Nk=
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : 6TZ4jxBBVH4/vv4flEAAZNxYY8FHDvx1ozCrxYh81Nk=
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [승인요청] token : 6TZ4jxBBVH4/vv4flEAAZNxYY8FHDvx1ozCrxYh81Nk=
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [승인요청] amount : 4768.92
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T15:56:06.133115200BLWNDER-1735887363621 47910RWO                 
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 15:56:06 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=529ea9e4-a865-4557-b421-868265d7e985, orderNumber=ORDER-1735887363621, storeId=BSES, amount=4768.92, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"GALdXjC3Ck/XHuyx9YiG+29NA4vQ0M1XrVGURk70YIU=","message":"Token issued successfully."}
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=GALdXjC3Ck/XHuyx9YiG+29NA4vQ0M1XrVGURk70YIU=, message=Token issued successfully.)
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [성공] token : GALdXjC3Ck/XHuyx9YiG+29NA4vQ0M1XrVGURk70YIU=
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : GALdXjC3Ck/XHuyx9YiG+29NA4vQ0M1XrVGURk70YIU=
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [승인요청] token : GALdXjC3Ck/XHuyx9YiG+29NA4vQ0M1XrVGURk70YIU=
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [승인요청] amount : 834.94
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T15:56:44.816135400REJECTED-0000       N/A                 
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 15:56:44 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=529ea9e4-a865-4557-b421-868265d7e985, orderNumber=ORDER-1735887404302, storeId=FFB8, amount=834.94, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"Zf6aJopm/4NOOb9E+sFQfoBR2LbJcvHpsfnk4Mxl7GY=","message":"Token issued successfully."}
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=Zf6aJopm/4NOOb9E+sFQfoBR2LbJcvHpsfnk4Mxl7GY=, message=Token issued successfully.)
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [성공] token : Zf6aJopm/4NOOb9E+sFQfoBR2LbJcvHpsfnk4Mxl7GY=
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : Zf6aJopm/4NOOb9E+sFQfoBR2LbJcvHpsfnk4Mxl7GY=
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [승인요청] token : Zf6aJopm/4NOOb9E+sFQfoBR2LbJcvHpsfnk4Mxl7GY=
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [승인요청] amount : 6673.0
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T15:56:50.475141100REJECTED-0000       N/A                 
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 15:56:50 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=529ea9e4-a865-4557-b421-868265d7e985, orderNumber=ORDER-1735887408994, storeId=ZFO5, amount=6673.0, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : uEAFK1LlQVqnrK1eafWQ1Dsz5VDmFWBDKLBn1ARDz1Y
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"K7PsKd+s8nMSe+8Pqm0v7W69ufuFPNUb2N42OIBN8gU=","message":"Token issued successfully."}
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=K7PsKd+s8nMSe+8Pqm0v7W69ufuFPNUb2N42OIBN8gU=, message=Token issued successfully.)
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [성공] token : K7PsKd+s8nMSe+8Pqm0v7W69ufuFPNUb2N42OIBN8gU=
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : K7PsKd+s8nMSe+8Pqm0v7W69ufuFPNUb2N42OIBN8gU=
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [승인요청] token : K7PsKd+s8nMSe+8Pqm0v7W69ufuFPNUb2N42OIBN8gU=
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [승인요청] amount : 3866.4
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T15:56:52.877200100REJECTED-0000       N/A                 
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 15:56:52 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=529ea9e4-a865-4557-b421-868265d7e985, orderNumber=ORDER-1735887412567, storeId=EUG1, amount=3866.4, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 16:04:46 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-01-03 16:04:47 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-01-03 16:04:47 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 16:04:47 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-03 16:04:47 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-03 16:04:48 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-01-03 16:04:48 INFO  c.a.walnut.WalnutPaymentApplication - Starting WalnutPaymentApplication using Java 17.0.12 with PID 24792 (C:\Users\kjb77\IdeaProjects\walnut-payment\build\classes\java\main started by kjb77 in C:\Users\kjb77\IdeaProjects\walnut-payment)
2025-01-03 16:04:48 DEBUG c.a.walnut.WalnutPaymentApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-03 16:04:48 INFO  c.a.walnut.WalnutPaymentApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-03 16:04:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-03 16:04:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-01-03 16:04:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8443 (http)
2025-01-03 16:04:49 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8443"]
2025-01-03 16:04:49 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-03 16:04:49 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-03 16:04:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-03 16:04:49 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 906 ms
2025-01-03 16:04:49 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-03 16:04:49 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-03 16:04:49 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-03 16:04:49 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-03 16:04:49 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-03 16:04:49 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-03 16:04:49 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-03 16:04:49 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-03 16:04:49 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-03 16:04:50 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-03 16:04:50 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-03 16:04:50 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-03 16:04:51 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-03 16:04:51 INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-01-03 16:04:51 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8443"]
2025-01-03 16:04:51 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8443 (http) with context path '/'
2025-01-03 16:04:51 INFO  c.a.walnut.WalnutPaymentApplication - Started WalnutPaymentApplication in 2.826 seconds (process running for 3.13)
2025-01-03 16:04:51 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-03 16:04:51 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-03 16:04:51 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-03 16:06:30 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 16:06:30 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 16:06:40 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : ODtPYe471aCCBKs4MQ6HxOnJG9EvjCj3zBmH_o1lzj0
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : ODtPYe471aCCBKs4MQ6HxOnJG9EvjCj3zBmH_o1lzj0
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"S4b542NtaNKwVw/DoRt2LOfSYJtzXSm2HJP1zpVqZc8=","message":"Token issued successfully."}
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=S4b542NtaNKwVw/DoRt2LOfSYJtzXSm2HJP1zpVqZc8=, message=Token issued successfully.)
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [성공] token : S4b542NtaNKwVw/DoRt2LOfSYJtzXSm2HJP1zpVqZc8=
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : S4b542NtaNKwVw/DoRt2LOfSYJtzXSm2HJP1zpVqZc8=
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [승인요청] token : S4b542NtaNKwVw/DoRt2LOfSYJtzXSm2HJP1zpVqZc8=
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [승인요청] amount : 3992.26
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T16:06:41.140526200BLWNDER-1735888000177 391729RWO                 
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 16:06:41 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=59b54048-116d-4449-b12f-1de54bf6ec1b, orderNumber=ORDER-1735888000177, storeId=6S78, amount=3992.26, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : ODtPYe471aCCBKs4MQ6HxOnJG9EvjCj3zBmH_o1lzj0
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : ODtPYe471aCCBKs4MQ6HxOnJG9EvjCj3zBmH_o1lzj0
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"3U4ubGo/nyckv5WEgp2LuCuXJ5hbSwT1L9hRxnuQODw=","message":"Token issued successfully."}
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=3U4ubGo/nyckv5WEgp2LuCuXJ5hbSwT1L9hRxnuQODw=, message=Token issued successfully.)
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [성공] token : 3U4ubGo/nyckv5WEgp2LuCuXJ5hbSwT1L9hRxnuQODw=
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : 3U4ubGo/nyckv5WEgp2LuCuXJ5hbSwT1L9hRxnuQODw=
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [승인요청] token : 3U4ubGo/nyckv5WEgp2LuCuXJ5hbSwT1L9hRxnuQODw=
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [승인요청] amount : 2213.71
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T16:06:57.138366400BLWNDER-1735888013097 224204RWO                 
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 16:06:57 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=59b54048-116d-4449-b12f-1de54bf6ec1b, orderNumber=ORDER-1735888013097, storeId=Q04I, amount=2213.71, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : ODtPYe471aCCBKs4MQ6HxOnJG9EvjCj3zBmH_o1lzj0
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : ODtPYe471aCCBKs4MQ6HxOnJG9EvjCj3zBmH_o1lzj0
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"QSd7m8RvF0QQNTDllCoRY8GnYz1Osx8jKHxO0GPGWHE=","message":"Token issued successfully."}
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=QSd7m8RvF0QQNTDllCoRY8GnYz1Osx8jKHxO0GPGWHE=, message=Token issued successfully.)
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [성공] token : QSd7m8RvF0QQNTDllCoRY8GnYz1Osx8jKHxO0GPGWHE=
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : QSd7m8RvF0QQNTDllCoRY8GnYz1Osx8jKHxO0GPGWHE=
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [승인요청] token : QSd7m8RvF0QQNTDllCoRY8GnYz1Osx8jKHxO0GPGWHE=
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [승인요청] amount : 4259.87
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [승인응답] payload : APPROVEDUNKNOWN             No reason provided                                                                                  2025-01-03T16:07:04.664652200BLWNDER-1735888023302 427951RWO                 
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [승인결과] result : APPROVED
2025-01-03 16:07:04 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=59b54048-116d-4449-b12f-1de54bf6ec1b, orderNumber=ORDER-1735888023302, storeId=HF9F, amount=4259.87, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
2025-01-03 16:07:10 INFO  c.a.walnut.service.CardService - [시작]토큰 발급 시스템에 카드 등록 요청
2025-01-03 16:07:10 INFO  c.a.walnut.service.CardService - [완료]토큰 발급 시스템에 카드 등록 요청
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [확인] ref_id 유효성 확인  : sIc0lliRurBKbZDCEDj_DIP7kxADymU19bdnflK_x-E
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [요청] 일회용 토큰발급요청 - ref_id : sIc0lliRurBKbZDCEDj_DIP7kxADymU19bdnflK_x-E
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [완료] responsePayload : {"token":"jJ9T85CXX8PQ6+2XKig2OgyJW10z6PD76HZDXgvtWH4=","message":"Token issued successfully."}
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [완료] response 결과 : TokenIssueResponse(token=jJ9T85CXX8PQ6+2XKig2OgyJW10z6PD76HZDXgvtWH4=, message=Token issued successfully.)
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [성공] token : jJ9T85CXX8PQ6+2XKig2OgyJW10z6PD76HZDXgvtWH4=
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [완료] 토큰발급 : jJ9T85CXX8PQ6+2XKig2OgyJW10z6PD76HZDXgvtWH4=
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [승인요청] token : jJ9T85CXX8PQ6+2XKig2OgyJW10z6PD76HZDXgvtWH4=
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [승인요청] amount : 410.91
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [승인응답] payload : REJECTEDUNKNOWN             Invalid Token                                                                                       2025-01-03T16:07:15.916960800REJECTED-0000       N/A                 
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [승인결과] result : REJECTED
2025-01-03 16:07:15 INFO  c.a.w.service.TransactionService - [완료] 승인완료 : TransactionCreateRequest(cardIdentifier=b42fcb0b-2cf7-4440-b073-319c8aed78a7, orderNumber=ORDER-1735888035236, storeId=83HG, amount=410.91, currency=KRW, paymentType=CARD, installmentMonths=0, isInterestFree=false)
